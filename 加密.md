```
安装依赖库
wget https://github.com/dlitz/pycrypto/archive/master.zip 
python setup.py install
生成私钥
openssl genrsa -out ./myPrivateKey.pem -passout pass:"f00bar" -des3 2048
用私钥生成公钥
openssl rsa -pubout -in ./myPrivateKey.pem -passin pass:"f00bar" -out ./myPublicKey.pem
```


```
from Crypto.PublicKey import RSA
from Crypto.Hash import MD5
from Crypto.Signature import PKCS1_v1_5
from base64 import b64encode
def rsa_sign(message):
    private_key_file = open('./myPrivateKey.pem', 'r')
    private_key = RSA.importKey(private_key_file, passphrase="f00bar")
    hash_obj = MD5.new(message)
    signer = PKCS1_v1_5.new(private_key)
    d = b64encode(signer.sign(hash_obj))
    file = open('./signThing.txt', 'wb')
    file.write(d)
    file.close()
# if '__main__' == __name__:
#     from urllib import unquote
#     path = '/index.php'
#     query_string= '?id=1&index=2'
#     body = 'bucket=yonghu-test'
#     rsa_sign(unquote(path) + query_string + '\n' + body)


from Crypto.PublicKey import RSA
from Crypto.Signature import PKCS1_v1_5
from Crypto.Hash import MD5
from base64 import b64decode
def rsa_verify(message):
    public_key_file = open('./myPublicKey.pem', 'r')
    public_key = RSA.importKey(public_key_file,passphrase="f00bar")
    sign_file = open('./signThing.txt', 'r')
    sign = b64decode(sign_file.read())
    h = MD5.new(message)
    verifier = PKCS1_v1_5.new(public_key)
    return verifier.verify(h, sign)
if '__main__' == __name__:
    from urllib import unquote
    path = '/index.php'
    query_string = '?id=1&index=2'
    body = 'bucket=yonghu-test'
    print rsa_verify(unquote(path) + query_string + '\n' + body)

```
